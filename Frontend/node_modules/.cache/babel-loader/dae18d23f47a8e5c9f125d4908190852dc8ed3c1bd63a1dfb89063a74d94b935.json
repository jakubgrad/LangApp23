{"ast":null,"code":"import _objectSpread from\"/home/gradjaku/Documents/LangApp/1.0/LangApp23/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/gradjaku/Documents/LangApp/1.0/LangApp23/Frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import'./index.css';import{useState,useEffect}from'react';import BookList from'./components/BookList';import entryService from'./services/entries';import Word from'./Word';import axios from'axios';//import { response } from 'express';\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ComponentWithDescription=function ComponentWithDescription(props){console.log(\"props.data: \".concat(!props.data));var data=props.data;console.log(\"data: \".concat(data));// State to keep track of whether the component was clicked\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),clicked=_useState2[0],setClicked=_useState2[1];if(data===\"start_value\"){return/*#__PURE__*/_jsx(\"div\",{children:\"Description of the word will appear here!\"});}if(!data||!data.senses||data.senses.length===0){// Handle the case when data or senses array is empty or undefined\nreturn/*#__PURE__*/_jsx(\"div\",{children:\"No valid data available for this word.\"});}var senses=data.senses;// Define the click handler\nvar handleClick=function handleClick(){// Update state to enable the clicked style\nsetClicked(true);// Reset the clicked style after 1 second\nsetTimeout(function(){setClicked(false);},1000);};// Define the box-shadow style to create the highlighted effect\nvar boxShadowStyle={boxShadow:clicked?\"0 0 5px lightblue\":\"none\"};return/*#__PURE__*/_jsxs(\"div\",{onClick:handleClick,style:_objectSpread({},boxShadowStyle),children:[/*#__PURE__*/_jsx(\"h2\",{children:data.word.toUpperCase()}),/*#__PURE__*/_jsx(\"h3\",{children:\"Meanings:\"}),senses.map(function(sense,index){return/*#__PURE__*/_jsx(\"div\",{children:sense.glosses&&sense.glosses.length>0?/*#__PURE__*/_jsx(\"ul\",{children:sense.glosses.map(function(gloss,index){return/*#__PURE__*/_jsx(\"li\",{children:gloss},index);})}):/*#__PURE__*/_jsx(\"p\",{children:\"No meanings available.\"})},index);}),data.synonyms&&data.synonyms.length>0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Synonyms:\"}),/*#__PURE__*/_jsx(\"ul\",{children:data.synonyms.map(function(synonym,index){return/*#__PURE__*/_jsx(\"li\",{children:synonym.word},index);})})]}):/*#__PURE__*/_jsx(\"p\",{})]});};var Blog=function Blog(props){var title=props.title;console.log(\"slug aka title in Blog.js\",title);var exampleBook=require('./exampleBook.json');var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),chosenWord=_useState4[0],setChosenWord=_useState4[1];var _useState5=useState('start_value'),_useState6=_slicedToArray(_useState5,2),description=_useState6[0],setDescription=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),dict=_useState8[0],setDict=_useState8[1];var _useState9=useState(exampleBook),_useState10=_slicedToArray(_useState9,2),book=_useState10[0],setBook=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),boxOnTheRight=_useState12[0],setBoxOnTheRight=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),clicked=_useState14[0],setClicked=_useState14[1];useEffect(function(){entryService.getBook(title).then(function(response){console.log(\"GetBook succeeded!\");console.log(response);if(response!==''){console.log(\"response has something\");console.log(\"response.pages\");console.log(\"response.pages[1]\",response.pages[1]);console.log(\"response.pages[\\\"1\\\"]\",response.pages[\"1\"]);console.log(\"response.pageTranslations[\\\"1\\\"]\",response.pageTranslations[\"1\"]);setBook(response);}else{console.log(\"response empty\");}}).catch(function(err){return console.log(\"GetBook failed\");});},[]);var fetchWordDescription=function fetchWordDescription(word2){setClicked(true);// Reset the clicked style after 1 second\nsetTimeout(function(){setClicked(false);},1000);console.log(\"fetchWordDescription word2: \",word2);var word=book.pageTranslations[1][word2];console.log(\"fetchWordDescription word: \",word);console.log(word);entryService.getWord(word).then(function(response){if(response===undefined){console.log(\"Could not fetch word description using this form of the word\",word);//const endpoint = `http://127.0.0.1:5000/pygetword/${encodeURI(word)}`;\nvar endpoint=\"https://langapp23flask.onrender.com/pygetword/\".concat(encodeURI(word));console.log(\"Sending requests to \".concat(endpoint));axios.get(endpoint).then(function(response){//console.log(\"respone: \", response);\nconsole.log(\"respone data: \",response.data);var file=response.data[\"word\"];console.log(file);// Sending the file data as the response\nentryService.getWord(word).then(function(response){console.log(response);setDescription(response);setBoxOnTheRight(JSON.stringify(response));});}).catch(function(err){console.error('Error occurred again',err);});}else{console.log(\"Response from engine\",response);setDescription(response);setBoxOnTheRight(JSON.stringify(response));}}).catch(function(err){console.log(\"caught an error in connecting through entryService\");});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(BookList,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsx(\"h1\",{children:book.title}),/*#__PURE__*/_jsx(\"p\",{children:book.pages[1].split(\" \").map(function(word,index){return/*#__PURE__*/_jsx(Word,{word:word,base:book.pageTranslations[1][word],fetchWordDescription:fetchWordDescription},index);})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"box\",children:/*#__PURE__*/_jsx(ComponentWithDescription,{data:description})})]});};export default Blog;","map":{"version":3,"names":["React","useState","useEffect","BookList","entryService","Word","axios","ComponentWithDescription","props","console","log","data","clicked","setClicked","senses","length","handleClick","setTimeout","boxShadowStyle","boxShadow","word","toUpperCase","map","sense","index","glosses","gloss","synonyms","synonym","Blog","title","exampleBook","require","chosenWord","setChosenWord","description","setDescription","dict","setDict","book","setBook","boxOnTheRight","setBoxOnTheRight","getBook","then","response","pages","pageTranslations","catch","err","fetchWordDescription","word2","getWord","undefined","endpoint","encodeURI","get","file","JSON","stringify","error","split"],"sources":["/home/gradjaku/Documents/LangApp/1.0/LangApp23/Frontend/src/Blog.js"],"sourcesContent":["import React from 'react';\nimport './index.css';\nimport { useState, useEffect } from 'react'\nimport BookList from './components/BookList';\nimport entryService from './services/entries'\nimport Word from './Word'\nimport axios from 'axios'\n//import { response } from 'express';\n\nconst ComponentWithDescription = (props) => {\n  console.log(`props.data: ${!props.data}`);\n  const data = props.data;\n  console.log(`data: ${data}`);\n\n  // State to keep track of whether the component was clicked\n  const [clicked, setClicked] = useState(false);\n\n  if (data === \"start_value\") {\n    return <div>Description of the word will appear here!</div>;\n  }\n  if (!data || !data.senses || data.senses.length === 0) {\n    // Handle the case when data or senses array is empty or undefined\n    return <div>No valid data available for this word.</div>;\n  }\n\n  const { senses } = data;\n\n  // Define the click handler\n  const handleClick = () => {\n    // Update state to enable the clicked style\n    setClicked(true);\n\n    // Reset the clicked style after 1 second\n    setTimeout(() => {\n      setClicked(false);\n    }, 1000);\n  };\n\n  // Define the box-shadow style to create the highlighted effect\n  const boxShadowStyle = {\n    boxShadow: clicked ? \"0 0 5px lightblue\" : \"none\",\n  };\n\n  return (\n    <div onClick={handleClick} style={{ ...boxShadowStyle }}>\n      <h2>{data.word.toUpperCase()}</h2>\n      <h3>Meanings:</h3>\n      {senses.map((sense, index) => (\n        <div key={index}>\n          {sense.glosses && sense.glosses.length > 0 ? (\n            <ul>\n              {sense.glosses.map((gloss, index) => (\n                <li key={index}>{gloss}</li>\n              ))}\n            </ul>\n          ) : (\n            <p>No meanings available.</p>\n          )}\n        </div>\n      ))}\n\n      {data.synonyms && data.synonyms.length > 0 ? (\n        <>\n          <h3>Synonyms:</h3>\n          <ul>\n            {data.synonyms.map((synonym, index) => (\n              <li key={index}>{synonym.word}</li>\n            ))}\n          </ul>\n        </>\n      ) : (\n        <p>{/*No synonyms available.*/}</p>\n      )}\n    </div>\n  );\n};\n\nconst Blog = (props) => {\n\n  \n  const title = props.title\n  console.log(\"slug aka title in Blog.js\", title)\n  const exampleBook = require('./exampleBook.json') \n  const [chosenWord, setChosenWord ] = useState('')\n  const [description, setDescription ] = useState('start_value')\n  const [dict, setDict ] = useState(null)\n  const [book, setBook ] = useState(exampleBook)\n  const [boxOnTheRight, setBoxOnTheRight ] = useState('')\n  const [clicked, setClicked ] = useState('')\n\n  useEffect(() => {\n    entryService\n    .getBook(title)\n    .then(response => {\n      console.log(\"GetBook succeeded!\");\n      console.log(response);\n      if(response !== '') {\n        console.log(\"response has something\");\n        console.log(\"response.pages\");\n        console.log(\"response.pages[1]\", response.pages[1]);\n        console.log(`response.pages[\"1\"]`, response.pages[\"1\"]);\n        console.log(`response.pageTranslations[\"1\"]`, response.pageTranslations[\"1\"]);\n        setBook(response)\n      } else {\n      console.log(\"response empty\");\n    }\n    })\n    .catch(err => console.log(\"GetBook failed\"))\n  }, [])\n\n\n  \n\n  const fetchWordDescription = (word2) => {\n    setClicked(true);\n\n    // Reset the clicked style after 1 second\n    setTimeout(() => {\n      setClicked(false);\n    }, 1000);\n\n    console.log(\"fetchWordDescription word2: \", word2);\n    const word = book.pageTranslations[1][word2]\n    console.log(\"fetchWordDescription word: \", word);\n    console.log(word)\n    entryService\n    .getWord(word)\n    .then(response => {\n      if( response === undefined) {\n        console.log(\"Could not fetch word description using this form of the word\", word)\n      //const endpoint = `http://127.0.0.1:5000/pygetword/${encodeURI(word)}`;\n      const endpoint = `https://langapp23flask.onrender.com/pygetword/${encodeURI(word)}`;\n      console.log(`Sending requests to ${endpoint}`);\n      axios.get(endpoint)\n        .then(response => {\n          //console.log(\"respone: \", response);\n          console.log(\"respone data: \", response.data);\n          const file = response.data[\"word\"];\n          console.log(file); // Sending the file data as the response\n          entryService\n          .getWord(word)\n          .then(response => {\n            console.log(response)\n            setDescription(response)\n            setBoxOnTheRight(JSON.stringify(response))\n          })\n        })\n        .catch(err => {\n          console.error('Error occurred again', err);\n        });\n      } else {\n        console.log(\"Response from engine\", response)\n        setDescription(response)\n        setBoxOnTheRight(JSON.stringify(response))\n      }\n    })\n    .catch(err => {\n      \nconsole.log(\"caught an error in connecting through entryService\");\n\n    })\n  }\n  return (\n    <div className=\"container\">\n      <BookList />\n      <div className=\"content\">\n        <h1>{book.title}</h1>\n        <p>\n          {book.pages[1].split(\" \")\n          .map(\n            (word, index) => \n            (<Word key = {index} word = {word} base = {book.pageTranslations[1][word]} fetchWordDescription = {fetchWordDescription}/>)\n          )}\n        </p>\n        {/* Add more paragraphs as needed */}\n      </div>\n      <div className=\"box\">\n        <ComponentWithDescription data = {description} />\n        {/*<p>bb{boxOnTheRight}</p>*/}\n      </div>\n    </div>\n  );\n};\n\nexport default Blog;"],"mappings":"yRAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,MAAO,aAAa,CACpB,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,MAAOC,SAAQ,KAAM,uBAAuB,CAC5C,MAAOC,aAAY,KAAM,oBAAoB,CAC7C,MAAOC,KAAI,KAAM,QAAQ,CACzB,MAAOC,MAAK,KAAM,OAAO,CACzB;AAAA,6IAEA,GAAMC,yBAAwB,CAAG,QAA3BA,yBAAwB,CAAIC,KAAK,CAAK,CAC1CC,OAAO,CAACC,GAAG,uBAAgB,CAACF,KAAK,CAACG,IAAI,EAAG,CACzC,GAAMA,KAAI,CAAGH,KAAK,CAACG,IAAI,CACvBF,OAAO,CAACC,GAAG,iBAAUC,IAAI,EAAG,CAE5B;AACA,cAA8BV,QAAQ,CAAC,KAAK,CAAC,wCAAtCW,OAAO,eAAEC,UAAU,eAE1B,GAAIF,IAAI,GAAK,aAAa,CAAE,CAC1B,mBAAO,qBAAK,2CAAyC,EAAM,CAC7D,CACA,GAAI,CAACA,IAAI,EAAI,CAACA,IAAI,CAACG,MAAM,EAAIH,IAAI,CAACG,MAAM,CAACC,MAAM,GAAK,CAAC,CAAE,CACrD;AACA,mBAAO,qBAAK,wCAAsC,EAAM,CAC1D,CAEA,GAAQD,OAAM,CAAKH,IAAI,CAAfG,MAAM,CAEd;AACA,GAAME,YAAW,CAAG,QAAdA,YAAW,EAAS,CACxB;AACAH,UAAU,CAAC,IAAI,CAAC,CAEhB;AACAI,UAAU,CAAC,UAAM,CACfJ,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAE,IAAI,CAAC,CACV,CAAC,CAED;AACA,GAAMK,eAAc,CAAG,CACrBC,SAAS,CAAEP,OAAO,CAAG,mBAAmB,CAAG,MAC7C,CAAC,CAED,mBACE,aAAK,OAAO,CAAEI,WAAY,CAAC,KAAK,kBAAOE,cAAc,CAAG,wBACtD,oBAAKP,IAAI,CAACS,IAAI,CAACC,WAAW,EAAE,EAAM,cAClC,oBAAI,WAAS,EAAK,CACjBP,MAAM,CAACQ,GAAG,CAAC,SAACC,KAAK,CAAEC,KAAK,qBACvB,qBACGD,KAAK,CAACE,OAAO,EAAIF,KAAK,CAACE,OAAO,CAACV,MAAM,CAAG,CAAC,cACxC,oBACGQ,KAAK,CAACE,OAAO,CAACH,GAAG,CAAC,SAACI,KAAK,CAAEF,KAAK,qBAC9B,oBAAiBE,KAAK,EAAbF,KAAK,CAAc,EAC7B,CAAC,EACC,cAEL,mBAAG,wBAAsB,EAC1B,EATOA,KAAK,CAUT,EACP,CAAC,CAEDb,IAAI,CAACgB,QAAQ,EAAIhB,IAAI,CAACgB,QAAQ,CAACZ,MAAM,CAAG,CAAC,cACxC,wCACE,oBAAI,WAAS,EAAK,cAClB,oBACGJ,IAAI,CAACgB,QAAQ,CAACL,GAAG,CAAC,SAACM,OAAO,CAAEJ,KAAK,qBAChC,oBAAiBI,OAAO,CAACR,IAAI,EAApBI,KAAK,CAAqB,EACpC,CAAC,EACC,GACJ,cAEH,YACD,GACG,CAEV,CAAC,CAED,GAAMK,KAAI,CAAG,QAAPA,KAAI,CAAIrB,KAAK,CAAK,CAGtB,GAAMsB,MAAK,CAAGtB,KAAK,CAACsB,KAAK,CACzBrB,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAEoB,KAAK,CAAC,CAC/C,GAAMC,YAAW,CAAGC,OAAO,CAAC,oBAAoB,CAAC,CACjD,eAAqC/B,QAAQ,CAAC,EAAE,CAAC,yCAA1CgC,UAAU,eAAEC,aAAa,eAChC,eAAuCjC,QAAQ,CAAC,aAAa,CAAC,yCAAvDkC,WAAW,eAAEC,cAAc,eAClC,eAAyBnC,QAAQ,CAAC,IAAI,CAAC,yCAAhCoC,IAAI,eAAEC,OAAO,eACpB,eAAyBrC,QAAQ,CAAC8B,WAAW,CAAC,0CAAvCQ,IAAI,gBAAEC,OAAO,gBACpB,gBAA2CvC,QAAQ,CAAC,EAAE,CAAC,2CAAhDwC,aAAa,gBAAEC,gBAAgB,gBACtC,gBAA+BzC,QAAQ,CAAC,EAAE,CAAC,2CAApCW,OAAO,gBAAEC,UAAU,gBAE1BX,SAAS,CAAC,UAAM,CACdE,YAAY,CACXuC,OAAO,CAACb,KAAK,CAAC,CACdc,IAAI,CAAC,SAAAC,QAAQ,CAAI,CAChBpC,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC,CACjCD,OAAO,CAACC,GAAG,CAACmC,QAAQ,CAAC,CACrB,GAAGA,QAAQ,GAAK,EAAE,CAAE,CAClBpC,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC,CACrCD,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC,CAC7BD,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAEmC,QAAQ,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CACnDrC,OAAO,CAACC,GAAG,yBAAwBmC,QAAQ,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CACvDrC,OAAO,CAACC,GAAG,oCAAmCmC,QAAQ,CAACE,gBAAgB,CAAC,GAAG,CAAC,CAAC,CAC7EP,OAAO,CAACK,QAAQ,CAAC,CACnB,CAAC,IAAM,CACPpC,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC,CAC/B,CACA,CAAC,CAAC,CACDsC,KAAK,CAAC,SAAAC,GAAG,QAAIxC,QAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC,GAAC,CAC9C,CAAC,CAAE,EAAE,CAAC,CAKN,GAAMwC,qBAAoB,CAAG,QAAvBA,qBAAoB,CAAIC,KAAK,CAAK,CACtCtC,UAAU,CAAC,IAAI,CAAC,CAEhB;AACAI,UAAU,CAAC,UAAM,CACfJ,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAE,IAAI,CAAC,CAERJ,OAAO,CAACC,GAAG,CAAC,8BAA8B,CAAEyC,KAAK,CAAC,CAClD,GAAM/B,KAAI,CAAGmB,IAAI,CAACQ,gBAAgB,CAAC,CAAC,CAAC,CAACI,KAAK,CAAC,CAC5C1C,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAEU,IAAI,CAAC,CAChDX,OAAO,CAACC,GAAG,CAACU,IAAI,CAAC,CACjBhB,YAAY,CACXgD,OAAO,CAAChC,IAAI,CAAC,CACbwB,IAAI,CAAC,SAAAC,QAAQ,CAAI,CAChB,GAAIA,QAAQ,GAAKQ,SAAS,CAAE,CAC1B5C,OAAO,CAACC,GAAG,CAAC,8DAA8D,CAAEU,IAAI,CAAC,CACnF;AACA,GAAMkC,SAAQ,yDAAoDC,SAAS,CAACnC,IAAI,CAAC,CAAE,CACnFX,OAAO,CAACC,GAAG,+BAAwB4C,QAAQ,EAAG,CAC9ChD,KAAK,CAACkD,GAAG,CAACF,QAAQ,CAAC,CAChBV,IAAI,CAAC,SAAAC,QAAQ,CAAI,CAChB;AACApC,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAEmC,QAAQ,CAAClC,IAAI,CAAC,CAC5C,GAAM8C,KAAI,CAAGZ,QAAQ,CAAClC,IAAI,CAAC,MAAM,CAAC,CAClCF,OAAO,CAACC,GAAG,CAAC+C,IAAI,CAAC,CAAE;AACnBrD,YAAY,CACXgD,OAAO,CAAChC,IAAI,CAAC,CACbwB,IAAI,CAAC,SAAAC,QAAQ,CAAI,CAChBpC,OAAO,CAACC,GAAG,CAACmC,QAAQ,CAAC,CACrBT,cAAc,CAACS,QAAQ,CAAC,CACxBH,gBAAgB,CAACgB,IAAI,CAACC,SAAS,CAACd,QAAQ,CAAC,CAAC,CAC5C,CAAC,CAAC,CACJ,CAAC,CAAC,CACDG,KAAK,CAAC,SAAAC,GAAG,CAAI,CACZxC,OAAO,CAACmD,KAAK,CAAC,sBAAsB,CAAEX,GAAG,CAAC,CAC5C,CAAC,CAAC,CACJ,CAAC,IAAM,CACLxC,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAEmC,QAAQ,CAAC,CAC7CT,cAAc,CAACS,QAAQ,CAAC,CACxBH,gBAAgB,CAACgB,IAAI,CAACC,SAAS,CAACd,QAAQ,CAAC,CAAC,CAC5C,CACF,CAAC,CAAC,CACDG,KAAK,CAAC,SAAAC,GAAG,CAAI,CAElBxC,OAAO,CAACC,GAAG,CAAC,oDAAoD,CAAC,CAE7D,CAAC,CAAC,CACJ,CAAC,CACD,mBACE,aAAK,SAAS,CAAC,WAAW,wBACxB,KAAC,QAAQ,IAAG,cACZ,aAAK,SAAS,CAAC,SAAS,wBACtB,oBAAK6B,IAAI,CAACT,KAAK,EAAM,cACrB,mBACGS,IAAI,CAACO,KAAK,CAAC,CAAC,CAAC,CAACe,KAAK,CAAC,GAAG,CAAC,CACxBvC,GAAG,CACF,SAACF,IAAI,CAAEI,KAAK,qBACX,KAAC,IAAI,EAAe,IAAI,CAAIJ,IAAK,CAAC,IAAI,CAAImB,IAAI,CAACQ,gBAAgB,CAAC,CAAC,CAAC,CAAC3B,IAAI,CAAE,CAAC,oBAAoB,CAAI8B,oBAAqB,EAA1G1B,KAAK,CAAuG,EAAC,CAC5H,EACC,GAEA,cACN,YAAK,SAAS,CAAC,KAAK,uBAClB,KAAC,wBAAwB,EAAC,IAAI,CAAIW,WAAY,EAAG,EAE7C,GACF,CAEV,CAAC,CAED,cAAeN,KAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}