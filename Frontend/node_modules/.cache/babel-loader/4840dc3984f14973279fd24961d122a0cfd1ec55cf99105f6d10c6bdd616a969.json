{"ast":null,"code":"import _slicedToArray from\"/home/gradjaku/Documents/LangApp/1.0/LangApp23/Frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import'./index.css';import{useState,useEffect}from'react';import BookList from'./components/BookList';import entryService from'./services/entries';import Word from'./Word';import axios from'axios';//import { response } from 'express';\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ComponentWithDescription=function ComponentWithDescription(props){console.log(\"props.data: \".concat(!props.data));console.log(\"props.data.senses: \".concat(!props.data.senses));console.log(\"props.data.senses.length: \".concat(props.data.senses.length));var data=props.data;console.log(\"data: \".concat(data));if(!data||!data.senses||data.senses.length===0){// Handle the case when data or senses array is empty or undefined\nreturn/*#__PURE__*/_jsx(\"div\",{children:\"No valid data available.\"});}var senses=data.senses;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Word: \",data.word]}),/*#__PURE__*/_jsx(\"h3\",{children:\"Synonyms:\"}),data.synonyms&&data.synonyms.length>0?/*#__PURE__*/_jsx(\"ul\",{children:data.synonyms.map(function(synonym,index){return/*#__PURE__*/_jsx(\"li\",{children:synonym},index);})}):/*#__PURE__*/_jsx(\"p\",{children:\"No synonyms available.\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Glosses:\"}),senses.map(function(sense,index){return/*#__PURE__*/_jsx(\"div\",{children:sense.glosses&&sense.glosses.length>0?/*#__PURE__*/_jsx(\"ul\",{children:sense.glosses.map(function(gloss,index){return/*#__PURE__*/_jsx(\"li\",{children:gloss},index);})}):/*#__PURE__*/_jsx(\"p\",{children:\"No glosses available.\"})},index);})]});};var Blog=function Blog(props){var title=props.title;console.log(\"slug aka title in Blog.js\",title);var exampleBook=require('./exampleBook.json');var _useState=useState(''),_useState2=_slicedToArray(_useState,2),chosenWord=_useState2[0],setChosenWord=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),dict=_useState4[0],setDict=_useState4[1];var _useState5=useState(exampleBook),_useState6=_slicedToArray(_useState5,2),book=_useState6[0],setBook=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),boxOnTheRight=_useState8[0],setBoxOnTheRight=_useState8[1];useEffect(function(){entryService.getBook(title).then(function(response){console.log(\"GetBook succeeded!\");console.log(response);if(response!==''){console.log(\"response has something\");console.log(\"response.pages\");console.log(\"response.pages[1]\",response.pages[1]);console.log(\"response.pages[\\\"1\\\"]\",response.pages[\"1\"]);console.log(\"response.pageTranslations[\\\"1\\\"]\",response.pageTranslations[\"1\"]);setBook(response);}else{console.log(\"response empty\");}}).catch(function(err){return console.log(\"GetBook failed\");});},[]);var fetchWordDescription=function fetchWordDescription(word2){console.log(\"fetchWordDescription word2: \",word2);var word=book.pageTranslations[1][word2];console.log(\"fetchWordDescription word: \",word);console.log(word);entryService.getWord(word).then(function(response){if(response===undefined){console.log(\"Could not fetch word description using this form of the word\",word);//const endpoint = `http://127.0.0.1:5000/pygetword/${encodeURI(word)}`;\nvar endpoint=\"https://langapp23flask.onrender.com/pygetword/\".concat(encodeURI(word));console.log(\"Sending requests to \".concat(endpoint));axios.get(endpoint).then(function(response){//console.log(\"respone: \", response);\nconsole.log(\"respone data: \",response.data);var file=response.data[\"word\"];console.log(file);// Sending the file data as the response\nentryService.getWord(word).then(function(response){console.log(response);setBoxOnTheRight(JSON.stringify(response));});}).catch(function(err){console.error('Error occurred again',err);});}else{console.log(\"Response from engine\",response);setBoxOnTheRight(JSON.stringify(response));}}).catch(function(err){console.log(\"caught an error in connecting through entryService\");});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(BookList,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsx(\"h1\",{children:book.title}),/*#__PURE__*/_jsx(\"p\",{children:book.pages[1].split(\" \").map(function(word,index){return/*#__PURE__*/_jsx(Word,{word:word,base:book.pageTranslations[1][word],fetchWordDescription:fetchWordDescription},index);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"box\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Box on the right\"}),/*#__PURE__*/_jsx(ComponentWithDescription,{data:boxOnTheRight}),/*#__PURE__*/_jsxs(\"p\",{children:[\"bb\",boxOnTheRight]})]})]});};export default Blog;","map":{"version":3,"names":["React","useState","useEffect","BookList","entryService","Word","axios","ComponentWithDescription","props","console","log","data","senses","length","word","synonyms","map","synonym","index","sense","glosses","gloss","Blog","title","exampleBook","require","chosenWord","setChosenWord","dict","setDict","book","setBook","boxOnTheRight","setBoxOnTheRight","getBook","then","response","pages","pageTranslations","catch","err","fetchWordDescription","word2","getWord","undefined","endpoint","encodeURI","get","file","JSON","stringify","error","split"],"sources":["/home/gradjaku/Documents/LangApp/1.0/LangApp23/Frontend/src/Blog.js"],"sourcesContent":["import React from 'react';\nimport './index.css';\nimport { useState, useEffect } from 'react'\nimport BookList from './components/BookList';\nimport entryService from './services/entries'\nimport Word from './Word'\nimport axios from 'axios'\n//import { response } from 'express';\n\nconst ComponentWithDescription = (props) => {\n  console.log(`props.data: ${!props.data}`)\n  console.log(`props.data.senses: ${!props.data.senses}`)\n  console.log(`props.data.senses.length: ${props.data.senses.length}`)\n  const data = props.data\n  console.log(`data: ${data}`);\n  if (!data || !data.senses || data.senses.length === 0) {\n    // Handle the case when data or senses array is empty or undefined\n    return <div>No valid data available.</div>;\n  }\n\n  const { senses } = data;\n\n  return (\n    <div>\n      <h2>Word: {data.word}</h2>\n      <h3>Synonyms:</h3>\n      {data.synonyms && data.synonyms.length > 0 ? (\n        <ul>\n          {data.synonyms.map((synonym, index) => (\n            <li key={index}>{synonym}</li>\n          ))}\n        </ul>\n      ) : (\n        <p>No synonyms available.</p>\n      )}\n\n      <h3>Glosses:</h3>\n      {senses.map((sense, index) => (\n        <div key={index}>\n          {sense.glosses && sense.glosses.length > 0 ? (\n            <ul>\n              {sense.glosses.map((gloss, index) => (\n                <li key={index}>{gloss}</li>\n              ))}\n            </ul>\n          ) : (\n            <p>No glosses available.</p>\n          )}\n        </div>\n      ))}\n    </div>\n  );\n};\n\nconst Blog = (props) => {\n\n  \n  const title = props.title\n  console.log(\"slug aka title in Blog.js\", title)\n  const exampleBook = require('./exampleBook.json') \n  const [chosenWord, setChosenWord ] = useState('')\n  const [dict, setDict ] = useState(null)\n  const [book, setBook ] = useState(exampleBook)\n  const [boxOnTheRight, setBoxOnTheRight ] = useState('')\n\n  useEffect(() => {\n    entryService\n    .getBook(title)\n    .then(response => {\n      console.log(\"GetBook succeeded!\");\n      console.log(response);\n      if(response !== '') {\n        console.log(\"response has something\");\n        console.log(\"response.pages\");\n        console.log(\"response.pages[1]\", response.pages[1]);\n        console.log(`response.pages[\"1\"]`, response.pages[\"1\"]);\n        console.log(`response.pageTranslations[\"1\"]`, response.pageTranslations[\"1\"]);\n        setBook(response)\n      } else {\n      console.log(\"response empty\");\n    }\n    })\n    .catch(err => console.log(\"GetBook failed\"))\n  }, [])\n\n\n  \n\n  const fetchWordDescription = (word2) => {\n    console.log(\"fetchWordDescription word2: \", word2);\n    const word = book.pageTranslations[1][word2]\n    console.log(\"fetchWordDescription word: \", word);\n    console.log(word)\n    entryService\n    .getWord(word)\n    .then(response => {\n      if( response === undefined) {\n        console.log(\"Could not fetch word description using this form of the word\", word)\n      //const endpoint = `http://127.0.0.1:5000/pygetword/${encodeURI(word)}`;\n      const endpoint = `https://langapp23flask.onrender.com/pygetword/${encodeURI(word)}`;\n      console.log(`Sending requests to ${endpoint}`);\n      axios.get(endpoint)\n        .then(response => {\n          //console.log(\"respone: \", response);\n          console.log(\"respone data: \", response.data);\n          const file = response.data[\"word\"];\n          console.log(file); // Sending the file data as the response\n          entryService\n          .getWord(word)\n          .then(response => {\n            console.log(response)\n            setBoxOnTheRight(JSON.stringify(response))\n          })\n        })\n        .catch(err => {\n          console.error('Error occurred again', err);\n        });\n      } else {\n        console.log(\"Response from engine\", response)\n        setBoxOnTheRight(JSON.stringify(response))\n      }\n    })\n    .catch(err => {\n      \nconsole.log(\"caught an error in connecting through entryService\");\n\n    })\n  }\n  return (\n    <div className=\"container\">\n      <BookList />\n      <div className=\"content\">\n        <h1>{book.title}</h1>\n        <p>\n          {book.pages[1].split(\" \")\n          .map(\n            (word, index) => \n            (<Word key = {index} word = {word} base = {book.pageTranslations[1][word]} fetchWordDescription = {fetchWordDescription}/>)\n          )}\n        </p>\n        {/* Add more paragraphs as needed */}\n      </div>\n      <div className=\"box\">\n        <h2>Box on the right</h2>\n        <ComponentWithDescription data = {boxOnTheRight} />\n        <p>bb{boxOnTheRight}</p>\n      </div>\n    </div>\n  );\n};\n\nexport default Blog;"],"mappings":"6IAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,MAAO,aAAa,CACpB,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,MAAOC,SAAQ,KAAM,uBAAuB,CAC5C,MAAOC,aAAY,KAAM,oBAAoB,CAC7C,MAAOC,KAAI,KAAM,QAAQ,CACzB,MAAOC,MAAK,KAAM,OAAO,CACzB;AAAA,wFAEA,GAAMC,yBAAwB,CAAG,QAA3BA,yBAAwB,CAAIC,KAAK,CAAK,CAC1CC,OAAO,CAACC,GAAG,uBAAgB,CAACF,KAAK,CAACG,IAAI,EAAG,CACzCF,OAAO,CAACC,GAAG,8BAAuB,CAACF,KAAK,CAACG,IAAI,CAACC,MAAM,EAAG,CACvDH,OAAO,CAACC,GAAG,qCAA8BF,KAAK,CAACG,IAAI,CAACC,MAAM,CAACC,MAAM,EAAG,CACpE,GAAMF,KAAI,CAAGH,KAAK,CAACG,IAAI,CACvBF,OAAO,CAACC,GAAG,iBAAUC,IAAI,EAAG,CAC5B,GAAI,CAACA,IAAI,EAAI,CAACA,IAAI,CAACC,MAAM,EAAID,IAAI,CAACC,MAAM,CAACC,MAAM,GAAK,CAAC,CAAE,CACrD;AACA,mBAAO,qBAAK,0BAAwB,EAAM,CAC5C,CAEA,GAAQD,OAAM,CAAKD,IAAI,CAAfC,MAAM,CAEd,mBACE,oCACE,sBAAI,QAAM,CAACD,IAAI,CAACG,IAAI,GAAM,cAC1B,oBAAI,WAAS,EAAK,CACjBH,IAAI,CAACI,QAAQ,EAAIJ,IAAI,CAACI,QAAQ,CAACF,MAAM,CAAG,CAAC,cACxC,oBACGF,IAAI,CAACI,QAAQ,CAACC,GAAG,CAAC,SAACC,OAAO,CAAEC,KAAK,qBAChC,oBAAiBD,OAAO,EAAfC,KAAK,CAAgB,EAC/B,CAAC,EACC,cAEL,mBAAG,wBAAsB,EAC1B,cAED,oBAAI,UAAQ,EAAK,CAChBN,MAAM,CAACI,GAAG,CAAC,SAACG,KAAK,CAAED,KAAK,qBACvB,qBACGC,KAAK,CAACC,OAAO,EAAID,KAAK,CAACC,OAAO,CAACP,MAAM,CAAG,CAAC,cACxC,oBACGM,KAAK,CAACC,OAAO,CAACJ,GAAG,CAAC,SAACK,KAAK,CAAEH,KAAK,qBAC9B,oBAAiBG,KAAK,EAAbH,KAAK,CAAc,EAC7B,CAAC,EACC,cAEL,mBAAG,uBAAqB,EACzB,EATOA,KAAK,CAUT,EACP,CAAC,GACE,CAEV,CAAC,CAED,GAAMI,KAAI,CAAG,QAAPA,KAAI,CAAId,KAAK,CAAK,CAGtB,GAAMe,MAAK,CAAGf,KAAK,CAACe,KAAK,CACzBd,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAEa,KAAK,CAAC,CAC/C,GAAMC,YAAW,CAAGC,OAAO,CAAC,oBAAoB,CAAC,CACjD,cAAqCxB,QAAQ,CAAC,EAAE,CAAC,wCAA1CyB,UAAU,eAAEC,aAAa,eAChC,eAAyB1B,QAAQ,CAAC,IAAI,CAAC,yCAAhC2B,IAAI,eAAEC,OAAO,eACpB,eAAyB5B,QAAQ,CAACuB,WAAW,CAAC,yCAAvCM,IAAI,eAAEC,OAAO,eACpB,eAA2C9B,QAAQ,CAAC,EAAE,CAAC,yCAAhD+B,aAAa,eAAEC,gBAAgB,eAEtC/B,SAAS,CAAC,UAAM,CACdE,YAAY,CACX8B,OAAO,CAACX,KAAK,CAAC,CACdY,IAAI,CAAC,SAAAC,QAAQ,CAAI,CAChB3B,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC,CACjCD,OAAO,CAACC,GAAG,CAAC0B,QAAQ,CAAC,CACrB,GAAGA,QAAQ,GAAK,EAAE,CAAE,CAClB3B,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC,CACrCD,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC,CAC7BD,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAE0B,QAAQ,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CACnD5B,OAAO,CAACC,GAAG,yBAAwB0B,QAAQ,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CACvD5B,OAAO,CAACC,GAAG,oCAAmC0B,QAAQ,CAACE,gBAAgB,CAAC,GAAG,CAAC,CAAC,CAC7EP,OAAO,CAACK,QAAQ,CAAC,CACnB,CAAC,IAAM,CACP3B,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC,CAC/B,CACA,CAAC,CAAC,CACD6B,KAAK,CAAC,SAAAC,GAAG,QAAI/B,QAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC,GAAC,CAC9C,CAAC,CAAE,EAAE,CAAC,CAKN,GAAM+B,qBAAoB,CAAG,QAAvBA,qBAAoB,CAAIC,KAAK,CAAK,CACtCjC,OAAO,CAACC,GAAG,CAAC,8BAA8B,CAAEgC,KAAK,CAAC,CAClD,GAAM5B,KAAI,CAAGgB,IAAI,CAACQ,gBAAgB,CAAC,CAAC,CAAC,CAACI,KAAK,CAAC,CAC5CjC,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAEI,IAAI,CAAC,CAChDL,OAAO,CAACC,GAAG,CAACI,IAAI,CAAC,CACjBV,YAAY,CACXuC,OAAO,CAAC7B,IAAI,CAAC,CACbqB,IAAI,CAAC,SAAAC,QAAQ,CAAI,CAChB,GAAIA,QAAQ,GAAKQ,SAAS,CAAE,CAC1BnC,OAAO,CAACC,GAAG,CAAC,8DAA8D,CAAEI,IAAI,CAAC,CACnF;AACA,GAAM+B,SAAQ,yDAAoDC,SAAS,CAAChC,IAAI,CAAC,CAAE,CACnFL,OAAO,CAACC,GAAG,+BAAwBmC,QAAQ,EAAG,CAC9CvC,KAAK,CAACyC,GAAG,CAACF,QAAQ,CAAC,CAChBV,IAAI,CAAC,SAAAC,QAAQ,CAAI,CAChB;AACA3B,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAE0B,QAAQ,CAACzB,IAAI,CAAC,CAC5C,GAAMqC,KAAI,CAAGZ,QAAQ,CAACzB,IAAI,CAAC,MAAM,CAAC,CAClCF,OAAO,CAACC,GAAG,CAACsC,IAAI,CAAC,CAAE;AACnB5C,YAAY,CACXuC,OAAO,CAAC7B,IAAI,CAAC,CACbqB,IAAI,CAAC,SAAAC,QAAQ,CAAI,CAChB3B,OAAO,CAACC,GAAG,CAAC0B,QAAQ,CAAC,CACrBH,gBAAgB,CAACgB,IAAI,CAACC,SAAS,CAACd,QAAQ,CAAC,CAAC,CAC5C,CAAC,CAAC,CACJ,CAAC,CAAC,CACDG,KAAK,CAAC,SAAAC,GAAG,CAAI,CACZ/B,OAAO,CAAC0C,KAAK,CAAC,sBAAsB,CAAEX,GAAG,CAAC,CAC5C,CAAC,CAAC,CACJ,CAAC,IAAM,CACL/B,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAE0B,QAAQ,CAAC,CAC7CH,gBAAgB,CAACgB,IAAI,CAACC,SAAS,CAACd,QAAQ,CAAC,CAAC,CAC5C,CACF,CAAC,CAAC,CACDG,KAAK,CAAC,SAAAC,GAAG,CAAI,CAElB/B,OAAO,CAACC,GAAG,CAAC,oDAAoD,CAAC,CAE7D,CAAC,CAAC,CACJ,CAAC,CACD,mBACE,aAAK,SAAS,CAAC,WAAW,wBACxB,KAAC,QAAQ,IAAG,cACZ,aAAK,SAAS,CAAC,SAAS,wBACtB,oBAAKoB,IAAI,CAACP,KAAK,EAAM,cACrB,mBACGO,IAAI,CAACO,KAAK,CAAC,CAAC,CAAC,CAACe,KAAK,CAAC,GAAG,CAAC,CACxBpC,GAAG,CACF,SAACF,IAAI,CAAEI,KAAK,qBACX,KAAC,IAAI,EAAe,IAAI,CAAIJ,IAAK,CAAC,IAAI,CAAIgB,IAAI,CAACQ,gBAAgB,CAAC,CAAC,CAAC,CAACxB,IAAI,CAAE,CAAC,oBAAoB,CAAI2B,oBAAqB,EAA1GvB,KAAK,CAAuG,EAAC,CAC5H,EACC,GAEA,cACN,aAAK,SAAS,CAAC,KAAK,wBAClB,oBAAI,kBAAgB,EAAK,cACzB,KAAC,wBAAwB,EAAC,IAAI,CAAIc,aAAc,EAAG,cACnD,qBAAG,IAAE,CAACA,aAAa,GAAK,GACpB,GACF,CAEV,CAAC,CAED,cAAeV,KAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}