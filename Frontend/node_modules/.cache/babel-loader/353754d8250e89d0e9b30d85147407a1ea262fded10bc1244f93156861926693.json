{"ast":null,"code":"import _slicedToArray from\"/home/gradjaku/Documents/LangApp/1.0/LangApp23/Frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import'./index.css';import{useState,useEffect}from'react';import BookList from'./components/BookList';import entryService from'./services/entries';import Word from'./Word';import axios from'axios';//import { response } from 'express';\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ComponentWithDescription=function ComponentWithDescription(props){console.log(\"props.data: \".concat(!props.data));console.log(\"props.data.senses: \".concat(!props.data.senses));var data=props.data;console.log(\"data: \".concat(data));if(data===\"emptyDictionary\"){return/*#__PURE__*/_jsx(\"div\",{children:\"Description of the word will appear here!\"});}if(!data||!data.senses||data.senses.length===0){// Handle the case when data or senses array is empty or undefined\nreturn/*#__PURE__*/_jsx(\"div\",{children:\"No valid data available for this word.\"});}var senses=data.senses;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Word: \",data.word]}),/*#__PURE__*/_jsx(\"h3\",{children:\"Meanings:\"}),senses.map(function(sense,index){return/*#__PURE__*/_jsx(\"div\",{children:sense.glosses&&sense.glosses.length>0?/*#__PURE__*/_jsx(\"ul\",{children:sense.glosses.map(function(gloss,index){return/*#__PURE__*/_jsx(\"li\",{children:gloss},index);})}):/*#__PURE__*/_jsx(\"p\",{children:\"No meanings available.\"})},index);}),/*#__PURE__*/_jsx(\"h3\",{children:\"Synonyms:\"}),data.synonyms&&data.synonyms.length>0?/*#__PURE__*/_jsx(\"ul\",{children:data.synonyms.map(function(synonym,index){return/*#__PURE__*/_jsx(\"li\",{children:synonym.word},index);})}):/*#__PURE__*/_jsx(\"p\",{children:\"No synonyms available.\"})]});};var Blog=function Blog(props){var title=props.title;console.log(\"slug aka title in Blog.js\",title);var exampleBook=require('./exampleBook.json');var _useState=useState(''),_useState2=_slicedToArray(_useState,2),chosenWord=_useState2[0],setChosenWord=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var _useState5=useState(\"emptyDictionary\"),_useState6=_slicedToArray(_useState5,2),dict=_useState6[0],setDict=_useState6[1];var _useState7=useState(exampleBook),_useState8=_slicedToArray(_useState7,2),book=_useState8[0],setBook=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),boxOnTheRight=_useState10[0],setBoxOnTheRight=_useState10[1];useEffect(function(){entryService.getBook(title).then(function(response){console.log(\"GetBook succeeded!\");console.log(response);if(response!==''){console.log(\"response has something\");console.log(\"response.pages\");console.log(\"response.pages[1]\",response.pages[1]);console.log(\"response.pages[\\\"1\\\"]\",response.pages[\"1\"]);console.log(\"response.pageTranslations[\\\"1\\\"]\",response.pageTranslations[\"1\"]);setBook(response);}else{console.log(\"response empty\");}}).catch(function(err){return console.log(\"GetBook failed\");});},[]);var fetchWordDescription=function fetchWordDescription(word2){console.log(\"fetchWordDescription word2: \",word2);var word=book.pageTranslations[1][word2];console.log(\"fetchWordDescription word: \",word);console.log(word);entryService.getWord(word).then(function(response){if(response===undefined){console.log(\"Could not fetch word description using this form of the word\",word);//const endpoint = `http://127.0.0.1:5000/pygetword/${encodeURI(word)}`;\nvar endpoint=\"https://langapp23flask.onrender.com/pygetword/\".concat(encodeURI(word));console.log(\"Sending requests to \".concat(endpoint));axios.get(endpoint).then(function(response){//console.log(\"respone: \", response);\nconsole.log(\"respone data: \",response.data);var file=response.data[\"word\"];console.log(file);// Sending the file data as the response\nentryService.getWord(word).then(function(response){console.log(response);setDescription(response);setBoxOnTheRight(JSON.stringify(response));});}).catch(function(err){console.error('Error occurred again',err);});}else{console.log(\"Response from engine\",response);setDescription(response);setBoxOnTheRight(JSON.stringify(response));}}).catch(function(err){console.log(\"caught an error in connecting through entryService\");});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(BookList,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsx(\"h1\",{children:book.title}),/*#__PURE__*/_jsx(\"p\",{children:book.pages[1].split(\" \").map(function(word,index){return/*#__PURE__*/_jsx(Word,{word:word,base:book.pageTranslations[1][word],fetchWordDescription:fetchWordDescription},index);})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"box\",children:/*#__PURE__*/_jsx(ComponentWithDescription,{data:description})})]});};export default Blog;","map":{"version":3,"names":["React","useState","useEffect","BookList","entryService","Word","axios","ComponentWithDescription","props","console","log","data","senses","length","word","map","sense","index","glosses","gloss","synonyms","synonym","Blog","title","exampleBook","require","chosenWord","setChosenWord","description","setDescription","dict","setDict","book","setBook","boxOnTheRight","setBoxOnTheRight","getBook","then","response","pages","pageTranslations","catch","err","fetchWordDescription","word2","getWord","undefined","endpoint","encodeURI","get","file","JSON","stringify","error","split"],"sources":["/home/gradjaku/Documents/LangApp/1.0/LangApp23/Frontend/src/Blog.js"],"sourcesContent":["import React from 'react';\nimport './index.css';\nimport { useState, useEffect } from 'react'\nimport BookList from './components/BookList';\nimport entryService from './services/entries'\nimport Word from './Word'\nimport axios from 'axios'\n//import { response } from 'express';\n\nconst ComponentWithDescription = (props) => {\n  console.log(`props.data: ${!props.data}`)\n  console.log(`props.data.senses: ${!props.data.senses}`)\n  const data = props.data\n  console.log(`data: ${data}`);\n  if (data === \"emptyDictionary\") {\n    return <div>Description of the word will appear here!</div>;\n  }\n  if (!data || !data.senses || data.senses.length === 0) {\n    // Handle the case when data or senses array is empty or undefined\n    return <div>No valid data available for this word.</div>;\n  }\n\n  const { senses } = data;\n\n  return (\n    <div>\n      <h2>Word: {data.word}</h2>\n      <h3>Meanings:</h3>\n      {senses.map((sense, index) => (\n        <div key={index}>\n          {sense.glosses && sense.glosses.length > 0 ? (\n            <ul>\n              {sense.glosses.map((gloss, index) => (\n                <li key={index}>{gloss}</li>\n              ))}\n            </ul>\n          ) : (\n            <p>No meanings available.</p>\n          )}\n        </div>\n      ))}\n\n<h3>Synonyms:</h3>\n{data.synonyms && data.synonyms.length > 0 ? (\n  <ul>\n    {data.synonyms.map((synonym, index) => (\n      <li key={index}>{synonym.word}</li>\n    ))}\n  </ul>\n) : (\n  <p>No synonyms available.</p>\n)}\n    </div>\n  );\n};\n\nconst Blog = (props) => {\n\n  \n  const title = props.title\n  console.log(\"slug aka title in Blog.js\", title)\n  const exampleBook = require('./exampleBook.json') \n  const [chosenWord, setChosenWord ] = useState('')\n  const [description, setDescription ] = useState('')\n  const [dict, setDict ] = useState(\"emptyDictionary\")\n  const [book, setBook ] = useState(exampleBook)\n  const [boxOnTheRight, setBoxOnTheRight ] = useState('')\n\n  useEffect(() => {\n    entryService\n    .getBook(title)\n    .then(response => {\n      console.log(\"GetBook succeeded!\");\n      console.log(response);\n      if(response !== '') {\n        console.log(\"response has something\");\n        console.log(\"response.pages\");\n        console.log(\"response.pages[1]\", response.pages[1]);\n        console.log(`response.pages[\"1\"]`, response.pages[\"1\"]);\n        console.log(`response.pageTranslations[\"1\"]`, response.pageTranslations[\"1\"]);\n        setBook(response)\n      } else {\n      console.log(\"response empty\");\n    }\n    })\n    .catch(err => console.log(\"GetBook failed\"))\n  }, [])\n\n\n  \n\n  const fetchWordDescription = (word2) => {\n    console.log(\"fetchWordDescription word2: \", word2);\n    const word = book.pageTranslations[1][word2]\n    console.log(\"fetchWordDescription word: \", word);\n    console.log(word)\n    entryService\n    .getWord(word)\n    .then(response => {\n      if( response === undefined) {\n        console.log(\"Could not fetch word description using this form of the word\", word)\n      //const endpoint = `http://127.0.0.1:5000/pygetword/${encodeURI(word)}`;\n      const endpoint = `https://langapp23flask.onrender.com/pygetword/${encodeURI(word)}`;\n      console.log(`Sending requests to ${endpoint}`);\n      axios.get(endpoint)\n        .then(response => {\n          //console.log(\"respone: \", response);\n          console.log(\"respone data: \", response.data);\n          const file = response.data[\"word\"];\n          console.log(file); // Sending the file data as the response\n          entryService\n          .getWord(word)\n          .then(response => {\n            console.log(response)\n            setDescription(response)\n            setBoxOnTheRight(JSON.stringify(response))\n          })\n        })\n        .catch(err => {\n          console.error('Error occurred again', err);\n        });\n      } else {\n        console.log(\"Response from engine\", response)\n        setDescription(response)\n        setBoxOnTheRight(JSON.stringify(response))\n      }\n    })\n    .catch(err => {\n      \nconsole.log(\"caught an error in connecting through entryService\");\n\n    })\n  }\n  return (\n    <div className=\"container\">\n      <BookList />\n      <div className=\"content\">\n        <h1>{book.title}</h1>\n        <p>\n          {book.pages[1].split(\" \")\n          .map(\n            (word, index) => \n            (<Word key = {index} word = {word} base = {book.pageTranslations[1][word]} fetchWordDescription = {fetchWordDescription}/>)\n          )}\n        </p>\n        {/* Add more paragraphs as needed */}\n      </div>\n      <div className=\"box\">\n        <ComponentWithDescription data = {description} />\n        {/*<p>bb{boxOnTheRight}</p>*/}\n      </div>\n    </div>\n  );\n};\n\nexport default Blog;"],"mappings":"6IAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,MAAO,aAAa,CACpB,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,MAAOC,SAAQ,KAAM,uBAAuB,CAC5C,MAAOC,aAAY,KAAM,oBAAoB,CAC7C,MAAOC,KAAI,KAAM,QAAQ,CACzB,MAAOC,MAAK,KAAM,OAAO,CACzB;AAAA,wFAEA,GAAMC,yBAAwB,CAAG,QAA3BA,yBAAwB,CAAIC,KAAK,CAAK,CAC1CC,OAAO,CAACC,GAAG,uBAAgB,CAACF,KAAK,CAACG,IAAI,EAAG,CACzCF,OAAO,CAACC,GAAG,8BAAuB,CAACF,KAAK,CAACG,IAAI,CAACC,MAAM,EAAG,CACvD,GAAMD,KAAI,CAAGH,KAAK,CAACG,IAAI,CACvBF,OAAO,CAACC,GAAG,iBAAUC,IAAI,EAAG,CAC5B,GAAIA,IAAI,GAAK,iBAAiB,CAAE,CAC9B,mBAAO,qBAAK,2CAAyC,EAAM,CAC7D,CACA,GAAI,CAACA,IAAI,EAAI,CAACA,IAAI,CAACC,MAAM,EAAID,IAAI,CAACC,MAAM,CAACC,MAAM,GAAK,CAAC,CAAE,CACrD;AACA,mBAAO,qBAAK,wCAAsC,EAAM,CAC1D,CAEA,GAAQD,OAAM,CAAKD,IAAI,CAAfC,MAAM,CAEd,mBACE,oCACE,sBAAI,QAAM,CAACD,IAAI,CAACG,IAAI,GAAM,cAC1B,oBAAI,WAAS,EAAK,CACjBF,MAAM,CAACG,GAAG,CAAC,SAACC,KAAK,CAAEC,KAAK,qBACvB,qBACGD,KAAK,CAACE,OAAO,EAAIF,KAAK,CAACE,OAAO,CAACL,MAAM,CAAG,CAAC,cACxC,oBACGG,KAAK,CAACE,OAAO,CAACH,GAAG,CAAC,SAACI,KAAK,CAAEF,KAAK,qBAC9B,oBAAiBE,KAAK,EAAbF,KAAK,CAAc,EAC7B,CAAC,EACC,cAEL,mBAAG,wBAAsB,EAC1B,EATOA,KAAK,CAUT,EACP,CAAC,cAER,oBAAI,WAAS,EAAK,CACjBN,IAAI,CAACS,QAAQ,EAAIT,IAAI,CAACS,QAAQ,CAACP,MAAM,CAAG,CAAC,cACxC,oBACGF,IAAI,CAACS,QAAQ,CAACL,GAAG,CAAC,SAACM,OAAO,CAAEJ,KAAK,qBAChC,oBAAiBI,OAAO,CAACP,IAAI,EAApBG,KAAK,CAAqB,EACpC,CAAC,EACC,cAEL,mBAAG,wBAAsB,EAC1B,GACS,CAEV,CAAC,CAED,GAAMK,KAAI,CAAG,QAAPA,KAAI,CAAId,KAAK,CAAK,CAGtB,GAAMe,MAAK,CAAGf,KAAK,CAACe,KAAK,CACzBd,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAEa,KAAK,CAAC,CAC/C,GAAMC,YAAW,CAAGC,OAAO,CAAC,oBAAoB,CAAC,CACjD,cAAqCxB,QAAQ,CAAC,EAAE,CAAC,wCAA1CyB,UAAU,eAAEC,aAAa,eAChC,eAAuC1B,QAAQ,CAAC,EAAE,CAAC,yCAA5C2B,WAAW,eAAEC,cAAc,eAClC,eAAyB5B,QAAQ,CAAC,iBAAiB,CAAC,yCAA7C6B,IAAI,eAAEC,OAAO,eACpB,eAAyB9B,QAAQ,CAACuB,WAAW,CAAC,yCAAvCQ,IAAI,eAAEC,OAAO,eACpB,eAA2ChC,QAAQ,CAAC,EAAE,CAAC,0CAAhDiC,aAAa,gBAAEC,gBAAgB,gBAEtCjC,SAAS,CAAC,UAAM,CACdE,YAAY,CACXgC,OAAO,CAACb,KAAK,CAAC,CACdc,IAAI,CAAC,SAAAC,QAAQ,CAAI,CAChB7B,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC,CACjCD,OAAO,CAACC,GAAG,CAAC4B,QAAQ,CAAC,CACrB,GAAGA,QAAQ,GAAK,EAAE,CAAE,CAClB7B,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC,CACrCD,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC,CAC7BD,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAE4B,QAAQ,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CACnD9B,OAAO,CAACC,GAAG,yBAAwB4B,QAAQ,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CACvD9B,OAAO,CAACC,GAAG,oCAAmC4B,QAAQ,CAACE,gBAAgB,CAAC,GAAG,CAAC,CAAC,CAC7EP,OAAO,CAACK,QAAQ,CAAC,CACnB,CAAC,IAAM,CACP7B,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC,CAC/B,CACA,CAAC,CAAC,CACD+B,KAAK,CAAC,SAAAC,GAAG,QAAIjC,QAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC,GAAC,CAC9C,CAAC,CAAE,EAAE,CAAC,CAKN,GAAMiC,qBAAoB,CAAG,QAAvBA,qBAAoB,CAAIC,KAAK,CAAK,CACtCnC,OAAO,CAACC,GAAG,CAAC,8BAA8B,CAAEkC,KAAK,CAAC,CAClD,GAAM9B,KAAI,CAAGkB,IAAI,CAACQ,gBAAgB,CAAC,CAAC,CAAC,CAACI,KAAK,CAAC,CAC5CnC,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAEI,IAAI,CAAC,CAChDL,OAAO,CAACC,GAAG,CAACI,IAAI,CAAC,CACjBV,YAAY,CACXyC,OAAO,CAAC/B,IAAI,CAAC,CACbuB,IAAI,CAAC,SAAAC,QAAQ,CAAI,CAChB,GAAIA,QAAQ,GAAKQ,SAAS,CAAE,CAC1BrC,OAAO,CAACC,GAAG,CAAC,8DAA8D,CAAEI,IAAI,CAAC,CACnF;AACA,GAAMiC,SAAQ,yDAAoDC,SAAS,CAAClC,IAAI,CAAC,CAAE,CACnFL,OAAO,CAACC,GAAG,+BAAwBqC,QAAQ,EAAG,CAC9CzC,KAAK,CAAC2C,GAAG,CAACF,QAAQ,CAAC,CAChBV,IAAI,CAAC,SAAAC,QAAQ,CAAI,CAChB;AACA7B,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAE4B,QAAQ,CAAC3B,IAAI,CAAC,CAC5C,GAAMuC,KAAI,CAAGZ,QAAQ,CAAC3B,IAAI,CAAC,MAAM,CAAC,CAClCF,OAAO,CAACC,GAAG,CAACwC,IAAI,CAAC,CAAE;AACnB9C,YAAY,CACXyC,OAAO,CAAC/B,IAAI,CAAC,CACbuB,IAAI,CAAC,SAAAC,QAAQ,CAAI,CAChB7B,OAAO,CAACC,GAAG,CAAC4B,QAAQ,CAAC,CACrBT,cAAc,CAACS,QAAQ,CAAC,CACxBH,gBAAgB,CAACgB,IAAI,CAACC,SAAS,CAACd,QAAQ,CAAC,CAAC,CAC5C,CAAC,CAAC,CACJ,CAAC,CAAC,CACDG,KAAK,CAAC,SAAAC,GAAG,CAAI,CACZjC,OAAO,CAAC4C,KAAK,CAAC,sBAAsB,CAAEX,GAAG,CAAC,CAC5C,CAAC,CAAC,CACJ,CAAC,IAAM,CACLjC,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAE4B,QAAQ,CAAC,CAC7CT,cAAc,CAACS,QAAQ,CAAC,CACxBH,gBAAgB,CAACgB,IAAI,CAACC,SAAS,CAACd,QAAQ,CAAC,CAAC,CAC5C,CACF,CAAC,CAAC,CACDG,KAAK,CAAC,SAAAC,GAAG,CAAI,CAElBjC,OAAO,CAACC,GAAG,CAAC,oDAAoD,CAAC,CAE7D,CAAC,CAAC,CACJ,CAAC,CACD,mBACE,aAAK,SAAS,CAAC,WAAW,wBACxB,KAAC,QAAQ,IAAG,cACZ,aAAK,SAAS,CAAC,SAAS,wBACtB,oBAAKsB,IAAI,CAACT,KAAK,EAAM,cACrB,mBACGS,IAAI,CAACO,KAAK,CAAC,CAAC,CAAC,CAACe,KAAK,CAAC,GAAG,CAAC,CACxBvC,GAAG,CACF,SAACD,IAAI,CAAEG,KAAK,qBACX,KAAC,IAAI,EAAe,IAAI,CAAIH,IAAK,CAAC,IAAI,CAAIkB,IAAI,CAACQ,gBAAgB,CAAC,CAAC,CAAC,CAAC1B,IAAI,CAAE,CAAC,oBAAoB,CAAI6B,oBAAqB,EAA1G1B,KAAK,CAAuG,EAAC,CAC5H,EACC,GAEA,cACN,YAAK,SAAS,CAAC,KAAK,uBAClB,KAAC,wBAAwB,EAAC,IAAI,CAAIW,WAAY,EAAG,EAE7C,GACF,CAEV,CAAC,CAED,cAAeN,KAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}